app:
  name: AppzElasticsearch
  code: AES
  notify: mniju@ecloudcontrol.com

build:
  version: 7.12
  env: DEV
  build_file: none
  output_files: output/*.zip
  image_template: elasticsearch-7.12
  image_name: alpha/elasticsearch

deploy:
  context: minnaniju/DEV
  type: elasticsearch6  
  replicas: 1
  port:
  - 9200
  - 9300

volumes:
- claim: elasticsearch-data
  mount: /appz/data
  name: elasticsearch-data
  size: 20Gi

monitor:
  notify: appzops@cloudbourne.co      

properties:
  http.host: 0.0.0.0 -e xpack.security.enabled=false -e discovery.type=single-node 
  VAULT_ADDR: https://vault:8200 -e 
  VAULT_SKIP_VERIFY: true
  VAULT_ROLE_ID: VAULT_ROLE_ID
  VAULT_SECRET_ID: VAULT_SECRET_ID
  VAULT_APPROLE: VAULT_APPROLE
  ELASTIC_PASSWORD:
    vault: ELASTIC_PASSWORD  
  ES_DEFAULT_USER: elastic
  ES_LOG_STYLE: console
  ES_USER1: user1
  ES_PASS1:
    vault: ES_USER1_PASSWORD
  ES_ROLE1: superuser
  ES_USER2: user2
  ES_PASS2:
    vault: ES_USER2_PASSWORD
  ES_ROLE2: superuser
  revision : 04
